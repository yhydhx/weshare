{% extends "frontEnd/base.html" %}<!-- 继承基础模板 -->
{% load staticfiles %}<!-- 加载全局变量 --> 

{% block body %}

<div class="container" style="margin-top: 60px;padding-top:60px;padding-bottom: 100px; ">
        <h3>恭喜，邮箱验证成功！<span id="time" style="color: red;">3</span> 秒后跳转到<a href="/login">登陆</a>页面</h3>
        <br><br><br>


    </div>

{% endblock %}

{% block js %}
<script>
    var s;

    function time(){
        s = window.setInterval("a()",1000);//每隔一秒自动调用a()
    }

    window.onload=time();


    function a(){
        var objTime = document.getElementById("time");//获得time的对象
        var time = objTime.innerText;//获得time的值
        time = time-1;
        objTime.innerText = time;//把新time赋给objTime里面
        if(time == 0){
        window.location="/login";//3s过后跳转到哪里去
        window.clear(s);//清空s，防止再次调用a()。即防止time减为负数
        }
    }   
</script>

{% endblock %}
